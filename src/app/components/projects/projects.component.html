<section id="projects" class="mx-auto p-8 my-16 max-w-7xl">
  <h2
    class="text-4xl font-bold mb-6 border-b-4 border-blue-500 inline-block pb-2 text-blue-300 text-shadow"
  >
    Proyectos
  </h2>

  <div class="flex justify-between mb-4">
    <button
      (click)="prev()"
      [disabled]="currentIndex === 0"
      class="px-4 py-2 bg-blue-600 rounded disabled:opacity-50"
    >
      Anterior
    </button>

    <button
      (click)="next()"
      [disabled]="currentIndex + projectsPerPage >= projects.length"
      class="px-4 py-2 bg-blue-600 rounded disabled:opacity-50"
    >
      Siguiente
    </button>
  </div>

  <div class="carousel-container">
    <div
      class="projects-grid"
      [class.fade-out]="isFading"
      [class.fade-in]="!isFading"
    >
      <div
        *ngFor="let project of visibleProjects"
        class="bg-gray-800 bg-opacity-40 rounded-lg shadow-lg overflow-hidden text-white"
      >
        <img
          [src]="project.imageUrl"
          [alt]="project.title"
          class="w-full h-48 object-cover"
          loading="lazy"
        />
        <div class="p-4 flex flex-col flex-grow">
          <h3 class="text-xl font-semibold mb-2 text-shadow text-blue-300">
            {{ project.title }}
          </h3>
          <p class="mb-4 flex-grow">{{ project.description }}</p>
          <div>
            <a
              *ngIf="project.link"
              [href]="project.link"
              target="_blank"
              class="inline-block px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded transition transform duration-200 hover:scale-105"
              >Ver proyecto</a
            >
            <a
              *ngIf="project.code"
              [href]="project.code"
              target="_blank"
              class="inline-block ml-2 px-4 py-2 bg-gray-700 hover:bg-gray-800 rounded transition transform duration-200 hover:scale-105"
            >
              CÃ³digo
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
